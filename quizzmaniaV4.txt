CREATE DATABASE db_quizzmaniav3;
USE db_quizzmaniav3;


CREATE TABLE TB_QUIZZ_JEUX
(
	QUESTION_JEUX varchar(500),
	R1_JEUX varchar(25),
	R2_JEUX varchar(25),
	R3_JEUX varchar(15),
	BONNE_REP varchar(50)
)
ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE TB_SCORE
(
	SCORE_JEUX int(20)NOT NULL
)
ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE TB_GEOGRAPHIE_QUIZZ
(
	Q_JEUX_GEO varchar(500),	
	R1_JEUX_GEO varchar(100),
	R2_JEUX_GEO varchar(100),
	R3_JEUX_GEO varchar(100),
	BONNE_REP_GEO varchar(50)
)
ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE TB_SPORT_QUIZZ
(
	Q_JEUX_SPORT varchar(500),	
	R1_JEUX_SPORT varchar(100),
	R2_JEUX_SPORT varchar(100),
	R3_JEUX_SPORT varchar(100),
	BONNE_REP_SPORT varchar(50)
	
	
)
ENGINE=InnoDB DEFAULT CHARSET=utf8; 


CREATE TABLE TB_FILM_SERIE_QUIZZ
(
	Q_JEUX_FILM_SERIE varchar(500),	
	R1_JEUX_FILM_SERIE varchar(100),
	R2_JEUX_FILM_SERIE varchar(100),
	R3_JEUX_FILM_SERIE varchar(100),
	BONNE_REP_FILM_SERIE varchar(50)
)
ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE TB_CULTURE_GE_QUIZZ
(	
	Q_JEUX_CULTURE_GE varchar(500),	
	R1_JEUX_CULTURE_GE varchar(100),
	R2_JEUX_CULTURE_GE varchar(100),
	R3_JEUX_CULTURE_GE varchar(100),
	BONNE_REP_CULTURE_GE varchar(50)
)

ENGINE=InnoDB DEFAULT CHARSET=utf8;


ALTER TABLE TB_GEOGRAPHIE_QUIZZ
ADD CONSTRAINT pk_Q_JEUX_GEO PRIMARY KEY (Q_JEUX_GEO);

ALTER TABLE TB_FILM_SERIE_QUIZZ
ADD CONSTRAINT pk_Q_JEUX_FILM_SERIE PRIMARY KEY (Q_JEUX_FILM_SERIE);

ALTER TABLE TB_SPORT_QUIZZ
ADD CONSTRAINT pk_Q_JEUX_SPORT PRIMARY KEY (Q_JEUX_SPORT);

ALTER TABLE TB_QUIZZ_JEUX
ADD CONSTRAINT pk_QUESTION_JEUX PRIMARY KEY (QUESTION_JEUX);

ALTER TABLE TB_SCORE
ADD CONSTRAINT pk_SCORE_JEUX PRIMARY KEY (SCORE_JEUX);

ALTER TABLE TB_CULTURE_GE_QUIZZ
ADD CONSTRAINT pk_Q_JEUX_CULTURE_GE PRIMARY KEY (Q_JEUX_CULTURE_GE);



/*Les liens et clé étrangères*/

ALTER TABLE TB_CULTURE_GE_QUIZZ
ADD CONSTRAINT fk_TB_CULTURE_GE_QUIZZ FOREIGN KEY (Q_JEUX_CULTURE_GE) REFERENCES TB_QUIZZ_JEUX (QUESTION_JEUX);

ALTER TABLE TB_FILM_SERIE_QUIZZ
ADD CONSTRAINT fk_TB_FILM_SERIE_QUIZZ FOREIGN KEY (Q_JEUX_FILM_SERIE) REFERENCES TB_QUIZZ_JEUX (QUESTION_JEUX);

ALTER TABLE TB_SPORT_QUIZZ
ADD CONSTRAINT fk_Q_JEUX_SPORT FOREIGN KEY (Q_JEUX_SPORT) REFERENCES TB_QUIZZ_JEUX (QUESTION_JEUX)ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE TB_GEOGRAPHIE_QUIZZ
ADD CONSTRAINT fk_TB_GEOGRAPHIE_QUIZZ FOREIGN KEY (Q_JEUX_GEO) REFERENCES TB_QUIZZ_JEUX (QUESTION_JEUX);





